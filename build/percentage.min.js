/*! build 2015-01-04 11:01:48 */
/*! percentage.js */
/*! Copyright Francois Lajoie */
/*! MIT License */
"use strict";var Percentage=function(){function a(b,c,d){d=void 0!==d?d:a.DEFAULT_DEMIMAL;var e=b/c*100;return e.toFixed(d)}function b(b,c,d,e){b=b.replace(/-/g,"/"),c=c.replace(/-/g,"/"),d=d.replace(/-/g,"/");var b=new Date(b).getTime(),c=new Date(c).getTime(),d=new Date(d).getTime(),f=b-c,g=d-c;return a(f,g,e)}function c(b,c,d){return b=g(b)||h(b),c=g(c)||h(c),a(b,c,d)}function d(b,c,d){return b=i(b)||b,c=i(c)||c,a(b,c,d)}function e(b,c,d){return b=j(b)||b,c=j(c)||c,a(b,c,d)}function f(b,c,d){return b=k(b)||b,c=k(c)||c,a(b,c,d)}function g(a){var b=l(m.time1,a),c=0;if(b.length<1)return!1;for(var d=0;d<b.length;++d){var e=b[d][1],a=b[d][2];c+=1e3*e*n[a]}return c}function h(a){var b=l(m.time2,a),c=0,d=0,e=b.length;return e>0&&(void 0!==b[e-1][2]&&(d=b[e-1][2],b=b.slice(0,e-1),--e),3==e?(c+=1e3*b[2][1],c+=60*b[1][1]*1e3,c+=60*b[0][1]*60*1e3):2==e?(c+=1e3*b[1][1],c+=60*b[0][1]*1e3):c+=1e3*b[0][1]),1*c+1*d}function i(a){var b=l(m.filesize,a);return b.length<1?!1:b[0][1]*Math.pow(2,o[b[0][2].toLowerCase()])}function j(a){var b=l(m.length,a),c=0;if(b.length<1)return!1;for(var d=0;d<b.length;++d){var e=b[d][1],a=b[d][2];c+="yd"==a||"ft"==a||"in"==a?e/p[a]:e*p[a]}return c}function k(a){var b=l(m.mass,a),c=0;if(b.length<1)return!1;for(var d=0;d<b.length;++d){var e=b[d][1],a=b[d][2];c+="lb"==a||"oz"==a?e/q[a]:e*q[a]}return c}function l(a,b){for(var c,d=[];null!=(c=a.exec(b));)d.push(c);return d}var m={time1:/([0-9]+)\s?(h|min|sec|ms|y|d|m|w)/gi,time2:/:?([0-9]+)|(.[0-9]+)/gi,filesize:/([0-9]*\.?[0-9]+)\s?(b|kb|mb|gb|tb|pb|eb|zb|yb)/gi,length:/([0-9]*\.?[0-9]+)\s?(mm|cm|dm|km|m|ft|in|yd)/gi,mass:/([0-9]*\.?[0-9]+)\s?(mg|kg|g|lb|oz)/gi},n={ms:1e-4,sec:1,min:60,h:3600,d:86400,w:604800,m:2628e3,y:31536e3},o={b:1,kb:10,mb:20,gb:30,tb:40,pb:50,eb:60,zb:70,yb:80},p={mm:.001,cm:.01,dm:.1,m:1,km:1e3,ft:3.28084,"in":39.3701,yd:1.0936},q={mg:.001,g:1,kg:1e3,lb:.0022046,oz:.035274};return a.DEFAULT_DEMIMAL=2,a.dates=b,a.times=c,a.num=a,a.filesize=d,a.lengths=e,a.mass=f,a}();